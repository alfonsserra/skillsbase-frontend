<div *ngIf="level===1" class="button-container">

    <div class="navbar-collapse collapse" id="myBtn">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle text-white" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown">
                    Utilities
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" (click)="setFullCategoryToZero()">Set proficiency and interest to 0</a>
                    <a class="dropdown-item" (click)="copyProficiencyToInterest()">Copy proficiency to interest</a>
                </div>
            </li>
        </ul>
    </div>

</div>
<p class="level-{{level}} padding-{{level}}" [class.partial]="!skill.isProficiencyAssessed || !skill.isInterestAssessed" (click)="toggleCollapsed()">
    <i *ngIf="level!==1" class="fa mr-2" [class.fa-plus-square-o]="collapsed" [class.fa-minus-square-o]="!collapsed"></i>{{skill.text}}</p>
<p markdown>{{skill.comments}}</p>
<ng-container *ngIf="!collapsed">
    <div class="row" [class.mb-4]="level>1">
        <label class="col-md-4 mt-2 col-form-label" [class.mt-2]="level===1">&nbsp;</label>
        <div class="col-md-4 d-flex" [class.mt-2]="level===1">
            <i class="fa fa-thumbs-o-up image-proficiency"></i>
            <systelab-slider [continuous]="false" [(value)]="skill.proficiency" [min]="0" [max]="5" [step]="1" name="slider1"
                             (valueChange)="changeProficiencySlider(skill)" class="slab-flex-1"></systelab-slider>
            <span class="badge badge-success ml-2 badge-position">{{skill.isProficiencyAssessed?skill.proficiency:'-'}}</span>

        </div>
        <div class="col-md-4 d-flex" [class.mt-2]="level===1">

            <span class="badge badge-success mr-2 badge-position">{{skill.isInterestAssessed?skill.interest:'-'}}</span>
            <systelab-slider [continuous]="false" [(value)]="skill.interest" [min]="0" [max]="5" [step]="1" name="slider2"
                             (valueChange)="changeInterestSlider(skill)" class="slab-flex-1"></systelab-slider>
            <i class="fa fa-heart-o image-interest"></i>
        </div>
    </div>

    <div *ngFor="let s of skill.children">
        <div *ngIf="s.type==='category'">
            <skill-questionnaire [skill]="s" [level]="level+1"></skill-questionnaire>
        </div>
        <div *ngIf="s.type==='skill'">
            <div class="row">
                <label class="col-md-4 mt-2 col-form-label label-padding-{{level+1}}" [class.partial]="!s.isProficiencyAssessed || !s.isInterestAssessed">{{s.text}}</label>
                <div class="col-md-4 mt-2 d-flex">
                    <i class="fa fa-thumbs-o-up image-proficiency"></i>
                    <systelab-slider [continuous]="false" [(value)]="s.proficiency" [min]="0" [max]="5" [step]="1" name="slider1"
                                     (valueChange)="changeProficiencySlider(s)" class="slab-flex-1"></systelab-slider>
                    <span class="badge badge-success ml-2 badge-position">{{s.isProficiencyAssessed?s.proficiency:'-'}}</span>
                </div>
                <div class="col-md-4 mt-2 d-flex">
                    <span class="badge badge-success mr-2 badge-position">{{s.isInterestAssessed?s.interest:'-'}}</span>
                    <systelab-slider [continuous]="false" [(value)]="s.interest" [min]="0" [max]="5" [step]="1" name="slider2"
                                     (valueChange)="changeInterestSlider(s)" class="slab-flex-1"></systelab-slider>
                    <i class="fa fa-heart-o image-interest"></i>
                </div>
            </div>
        </div>
    </div>
</ng-container>

